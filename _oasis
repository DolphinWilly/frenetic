OASISFormat: 0.4
OCamlVersion: >= 4.03.0
Name:        frenetic
Version:     4.0.0
Synopsis:    The Frenetic Compiler and Runtime System
Authors:     https://github.com/frenetic-lang/frenetic/contributors
License:     LGPL
Plugins:     META (0.3)
AlphaFeatures: 
  no_automatic_syntax,
  ocamlbuild_more_args
XOCamlbuildExtraArgs: -cflags -w,-40,-short-paths
BuildTools:
  ocamlbuild,
  ocamldoc
# generate standard parser and syntax extension parser from common file
PreBuildCommand:
  cppo -q \
    lib/Frenetic_NetKAT_Parser.cppo.ml -o lib/Frenetic_NetKAT_Parser.ml
  cppo -q -I lib \
    syntax/Frenetic_Syntax_Extension_Parser.cppo.ml -o \
    syntax/Frenetic_Syntax_Extension_Parser.ml
PostBuildCommand:
  rm lib/Frenetic_NetKAT_Parser.ml syntax/Frenetic_Syntax_Extension_Parser.ml

Executable newsyntax
  Path: syntax
  BuildDepends:
    compiler-libs.common,
    ppx_core,
    ppx_driver
  MainIs: ppx.ml
  CompiledObject: best